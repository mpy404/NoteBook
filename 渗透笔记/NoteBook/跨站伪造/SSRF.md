**满足的条件**

1. 让目标站点发起网络请求，可以控制目标去访问百度

1. DNS注入通过load_file()函数读取远程地址 ==> 让目标站点发起网络请求

1. 要能访问公网或者内网

**如何挖掘SSRF**

**黑盒**

- 看参数（传参出现域名、协议、文件等可能存在）

**白盒**

- 可以发起请求的函数

**如何利用**

**file协议探测文件内容（?url=file:///c:/www/config.php）**

![img](Image\图像 1.png)

**dict协议扫描端口（?url=dict://127.0.0.1:80）**

- 端口开放会显示报错消息
- 端口关闭无任何显示

![img](Image\图像 2.png)

**如何防御**

- 写一个正则，不允许访问本机、内网